# تست‌های End-to-End (E2E) - تدبیرخوان

این پوشه شامل تست‌های End-to-End برای سیستم تدبیرخوان است که با استفاده از Playwright پیاده‌سازی شده‌اند.

## ساختار تست‌ها

### 1. تست‌های پایه (basic.e2e.test.js)
- بارگذاری اپلیکیشن
- مدیریت مسیرهای غیرموجود

### 2. تست‌های احراز هویت (auth.e2e.test.js)
- نمایش صفحه ورود
- اعتبارسنجی فرم ورود
- نمایش و مخفی کردن رمز عبور
- ناوبری بین صفحات احراز هویت
- فرآیند ثبت‌نام کاربران عادی و شرکت‌ها
- اعتبارسنجی فرم ثبت‌نام

### 3. تست‌های منو (menu.e2e.test.js)
- نمایش منوی روزانه
- فیلتر کردن اقلام منو بر اساس دسته‌بندی
- جستجو در منو
- مدیریت سبد خرید
- افزودن و حذف اقلام از سبد
- نمایش جزئیات اقلام غذایی

### 4. تست‌های سفارشات (orders.e2e.test.js)
- نمایش لیست سفارشات
- فیلتر سفارشات بر اساس وضعیت
- مشاهده جزئیات سفارش
- لغو سفارش
- سفارش مجدد
- فرآیند تکمیل سفارش (checkout)
- اعمال کد تخفیف

### 5. تست‌های مدیریت (admin.e2e.test.js)
- داشبورد مدیریت
- مدیریت منو و اقلام غذایی
- مدیریت شرکت‌ها
- تأیید و رد درخواست‌های شرکت‌ها
- مشاهده جزئیات شرکت‌ها
- ایجاد و ویرایش منوی روزانه

### 6. تست‌های پرداخت (payment.e2e.test.js)
- فرآیند پرداخت با کارت بانکی
- پرداخت از کیف پول
- پرداخت در محل
- اعتبارسنجی اطلاعات کارت
- مدیریت کیف پول
- شارژ و برداشت از کیف پول
- تاریخچه پرداخت‌ها

### 7. تست‌های اعلان‌ها (notifications.e2e.test.js)
- نمایش لیست اعلان‌ها
- علامت‌گذاری اعلان‌ها به عنوان خوانده شده
- فیلتر اعلان‌ها بر اساس نوع
- حذف اعلان‌ها
- تنظیمات اعلان‌ها
- ارسال اعلان آزمایشی

## اجرای تست‌ها

### اجرای همه تست‌ها
```bash
npx playwright test
```

### اجرای تست‌های خاص
```bash
npx playwright test src/test/e2e/auth.e2e.test.js
```

### اجرای تست‌ها در مرورگر خاص
```bash
npx playwright test --project=chromium
```

### اجرای تست‌ها با نمایش مرورگر
```bash
npx playwright test --headed
```

### مشاهده گزارش تست‌ها
```bash
npx playwright show-report
```

## پیش‌نیازها

1. نصب dependencies:
```bash
npm install
```

2. نصب مرورگرهای Playwright:
```bash
npx playwright install
```

3. راه‌اندازی dev server:
```bash
npm run dev
```

## نکات مهم

- تست‌ها از mock data استفاده می‌کنند و نیازی به backend واقعی ندارند
- هر تست مستقل است و وابستگی به تست‌های دیگر ندارد
- تست‌ها شامل بررسی accessibility و responsive design نیستند
- برای تست‌های production، باید mock data با API واقعی جایگزین شود

## ساختار Mock Data

تست‌ها از mock data برای شبیه‌سازی API responses استفاده می‌کنند:

- **Authentication**: شبیه‌سازی ورود و ثبت‌نام کاربران
- **Menu Data**: شبیه‌سازی منوی روزانه و اقلام غذایی
- **Orders**: شبیه‌سازی سفارشات و وضعیت‌های مختلف
- **Payments**: شبیه‌سازی فرآیند پرداخت
- **Notifications**: شبیه‌سازی اعلان‌ها و تنظیمات

## بهبودهای آینده

- افزودن تست‌های accessibility
- تست‌های responsive design
- تست‌های performance
- تست‌های security
- Integration با backend واقعی
- تست‌های cross-browser
- تست‌های mobile